

let scrollLine = document.querySelector('.header__scrollLine');

function showProgressScroll() {
    let wholeHeight =  window.document.documentElement.scrollHeight,
    currentPlace = window.document.documentElement.clientHeight + window.document.documentElement.scrollTop,
    value;


value = Math.floor(100 * currentPlace / wholeHeight);

scrollLine.style.width = `${value}%`;
}

window.document.addEventListener('scroll', showProgressScroll);
window.document.addEventListener('DOMContentLoaded', showProgressScroll);




/*select*/
let selectBox = document.querySelector('.header__select'),
    selectCurrent = selectBox.querySelector('.select__current'),
    countriesList = selectBox.querySelector('.select__countrylist'),
    countriesItems = countriesList.querySelectorAll('.select__item');

selectCurrent.addEventListener('click', function () {
    countriesList.classList.toggle('active')

    countriesItems.forEach(element => {
        element.addEventListener('click', function () {

            let countryIndex = element.dataset.country;
            selectCurrent.classList.remove('ru', 'gb');
            selectCurrent.classList.add(`${countryIndex}`);
            selectCurrent.dataset.country = countryIndex;
            countriesList.classList.remove('active');
        })
    })
})

document.addEventListener('click', function (event) {
    if (!selectBox.contains(event.target)) {
        countriesList.classList.remove('active')
    }
})

let radioBtns = document.querySelectorAll('.priorities__input'),
    prioritiesSlides = document.querySelectorAll('.priorities__info'),
    nextPriority = document.querySelectorAll('.priorities__btn');

function changeSlide() {
    radioBtns.forEach((item, index) => {
        if (item.checked) {
            prioritiesSlides.forEach(slide => {
                slide.classList.remove('active')
            })

            prioritiesSlides[index].classList.add('active');
        }
    })
}
    
radioBtns.forEach(item => {
    item.addEventListener('change', changeSlide)
})

nextPriority.forEach(btn => {
    btn.addEventListener('click', () => {
        let nextSlide;
    
        radioBtns.forEach((radio, index) => {
            if (radio.checked) {
                if (++index == radioBtns.length) {
                    nextSlide = 0
                } else {
                    nextSlide = index
                }
            }
        })
        radioBtns[nextSlide].click()
    })
})

let prodItems = document.querySelectorAll('.products__item');

prodItems.forEach(item => {
    item.addEventListener('mouseenter', function() {
        this.classList.add('show');
    })

    item.addEventListener('mouseleave', function() {
        this.classList.remove('show');
    })
})
let years = document.querySelectorAll('.roadmap__radio'),
    yearsContent = document.querySelectorAll('.roadmap__content');

function showYearContent() {
    years.forEach((btn,index) => {
        if (btn.checked) {
            yearsContent.forEach(content => {
                content.classList.remove('active')
            })

            yearsContent[index].classList.add('active');
        }
    });
}

years.forEach((btn) => {
    btn.addEventListener('change', showYearContent)
})

window.addEventListener('DOMContentLoaded', showYearContent);

$('.team__list').slick({
    slidesToShow: 4,
    speed: 800,
    arrows: false
})